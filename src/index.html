<!DOCTYPE html>
<html>
<head>
    <title>Project Liminality</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Content Security Policy to enhance security -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">
</head>
<body>
    <!-- Main content starts here -->
    <!-- Drop zone for creating new DreamNodes -->
    <div id="dropZone" class="drop-zone">
        <p>Drag and drop media files here to create new DreamNodes</p>
    </div>
    <!-- Inline styles for drop zone (consider moving to external CSS file) -->
    <style>
        .drop-zone {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        .drop-zone.active {
            display: flex;
        }
    </style>
    <!-- Fade frame for visual effects -->
    <div class="fade-frame">
        <div class="fade-top"></div>
        <div class="fade-bottom"></div>
        <div class="fade-left"></div>
        <div class="fade-right"></div>
    </div>
    <!-- Search dialog for finding DreamNodes -->
    <div id="searchDialog" class="dialog search-dialog">
        <input type="text" id="searchBar" placeholder="Search DreamNodes...">
        <div id="sortButtons"></div>
        <button id="newDreamnodeBtn">New DreamNode</button>
    </div>
    <!-- Dialog for creating a new DreamNode -->
    <div id="newDreamnodeDialog" class="dialog">
        <h2>Create New DreamNode</h2>
        <input type="text" id="dreamnodeName" placeholder="DreamNode Name">
        <div>
            <input type="radio" id="typeIdea" name="dreamnodeType" value="idea" checked>
            <label for="typeIdea">Idea</label>
            <input type="radio" id="typePerson" name="dreamnodeType" value="person">
            <label for="typePerson">Person</label>
        </div>
        <div>
            <input type="checkbox" id="cloneCheckbox">
            <label for="cloneCheckbox">Clone existing repository</label>
        </div>
        <input type="text" id="repoUrl" placeholder="Repository URL" style="display: none;">
        <button id="createDreamnodeBtn">Create</button>
        <button id="cancelBtn">Cancel</button>
    </div>
    <!-- Container for the canvas element (possibly for visualization) -->
    <div id="canvas-container"></div>
    <!-- List to display DreamNodes -->
    <div id="dreamnodeList"></div>
    <!-- Container for the Liminal Web (possibly for node connections) -->
    <div id="liminalWeb"></div>
    <!-- Context menu for DreamNode actions -->
    <div id="contextMenu" class="context-menu">
        <div id="openFinder">Open in Finder</div>
        <div id="openGitFox">Open in GitFox</div>
        <div id="copyDreamTalk">Copy DreamTalk</div>
        <div id="openKeynote">Open Keynote</div>
        <div id="openC4D">Open in Cinema 4D</div>
        <div id="openSublime">Open in Sublime Text</div>
        <div id="rename">Rename</div>
        <div id="editMetadata">Edit Metadata</div>
    </div>
    <!-- Dialog for editing DreamNode metadata -->
    <div id="metadataDialog" class="dialog">
        <h2>Edit Metadata</h2>
        <form id="metadataForm">
            <label for="dateCreated">Date Created:</label>
            <input type="datetime-local" id="dateCreated" name="dateCreated">
            <button type="button" class="now-btn" data-for="dateCreated">Now</button>

            <label for="dateModified">Date Modified:</label>
            <input type="datetime-local" id="dateModified" name="dateModified">
            <button type="button" class="now-btn" data-for="dateModified">Now</button>

            <label for="interactions">Interactions:</label>
            <input type="number" id="interactions" name="interactions" min="0">

            <label>Type:</label>
            <div class="radio-group">
                <input type="radio" id="typeIdea" name="type" value="idea">
                <label for="typeIdea">Idea</label>
                <input type="radio" id="typePerson" name="type" value="person">
                <label for="typePerson">Person</label>
            </div>
            <label for="relatedNodesInput">Related Nodes:</label>
            <div class="related-nodes-container">
                <input type="text" id="relatedNodesInput" placeholder="Search related nodes...">
                <ul id="relatedNodesList"></ul>
            </div>
            <div id="selectedRelatedNodes"></div>
        </form>
        <div class="dialog-buttons">
            <button id="updateMetadataBtn">Update</button>
            <button id="cancelMetadataBtn">Cancel</button>
        </div>
    </div>
    <!-- Dialog for renaming a DreamNode -->
    <div id="renameDialog" class="dialog">
        <h2>Rename Dreamnode</h2>
        <input type="text" id="renameInput">
        <div class="dialog-buttons">
            <button id="confirmRename">Rename</button>
            <button id="cancelRename">Cancel</button>
        </div>
    </div>
    <!-- Main JavaScript file for the application -->
    <script src="renderer.js"></script>
</body>
</html>
